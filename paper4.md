# WebGPU 기반 GPU-Native 실시간 벡터 데이터베이스 구현에 관한 연구

### 심재창, 고주영

---

## 1. 서론

벡터 기반 데이터 검색은 추천 시스템, 자연어 처리, 이미지 검색 등 다양한 AI 응용 분야에서 핵심적인 기술로 자리잡고 있다. 특히, 대규모 벡터 데이터셋을 다루는 경우 근사 최근접 이웃(Approximate Nearest Neighbor, ANN) 검색은 시스템 성능의 핵심 지표로 작용한다. 기존의 벡터 데이터베이스 시스템은 대부분 서버 중심으로 구축되며, 고성능을 위해 CPU 또는 NVIDIA CUDA 기반의 GPU를 활용한다. 대표적으로 FAISS, Milvus, ScaNN 등은 이러한 방식으로 대규모 벡터 인덱싱과 검색을 처리해왔다 [1][2].

하지만 이러한 시스템은 설치, 유지보수, 서버 비용, 하드웨어 종속성 등의 한계를 동반한다. 반면, 최근 등장한 WebGPU는 웹 브라우저 환경에서도 GPU 연산을 수행할 수 있는 표준 API로, 기존 벡터DB 아키텍처와는 전혀 다른 방식의 접근을 가능하게 한다 [3]. 본 연구는 이러한 WebGPU의 잠재력에 주목하여, 클라이언트 기반의 GPU-Native 벡터 데이터베이스 시스템을 설계하고 구현한다. 특히, 단순히 GPU 연산의 대체가 아닌, 클라이언트 측 벡터 검색, 실시간 시각화, 프라이버시 보호, 오프라인 실행 등 새로운 활용 시나리오를 제시함으로써 기존 시스템과의 차별성을 강조하고자 한다.

---

## 2. 관련 연구 및 기술 배경

기존 벡터 데이터베이스는 성능을 극대화하기 위해 대부분 서버 측에 구축되며, GPU 가속을 통해 수십만~수억 개 벡터의 빠른 검색을 지원한다. FAISS는 CUDA 기반 GPU 연산을 통해 높은 쿼리 처리량을 달성하고 [1], Milvus는 다양한 인덱싱 알고리즘(HNSW, IVF 등)을 지원하여 유연한 검색 환경을 제공한다 [2]. 그러나 이러한 시스템은 클라우드 기반 인프라에 의존하며, 로컬 디바이스에서의 실시간 처리나 시각화에는 적합하지 않다.

한편 WebGPU는 Vulkan, Metal, Direct3D12의 기능을 웹 환경에 통합한 차세대 웹 그래픽 API로, 병렬 컴퓨팅이 가능한 Compute Shader를 통해 고성능 벡터 연산까지 가능하게 한다 [3]. 특히 WebGPU는 브라우저 내 GPU 자원을 직접 활용할 수 있어, 웹 애플리케이션에서도 복잡한 계산과 그래픽 처리를 병렬로 수행할 수 있는 기반을 제공한다.

---

## 3. 시스템 설계 및 구현

본 시스템은 사용자 브라우저 상에서 동작하는 완전 클라이언트 기반 벡터 검색 아키텍처로 설계되었다. 전체 구조는 다음과 같은 네 단계로 구성된다: (1) 벡터 데이터 업로드, (2) GPU 버퍼에 데이터 전송, (3) 컴퓨트 셰이더를 통한 코사인 유사도 계산, (4) 유사도 기반 정렬 및 Top-K 추출.

512차원 float32 벡터를 기본 단위로 사용하며, WebGPU의 `GPUBuffer`를 통해 연산 데이터로 변환한다. 쿼리 벡터와 데이터셋 간 유사도는 WGSL(셰이더 언어)을 활용한 코사인 유사도 계산으로 수행된다.

```wgsl
fn cosine_similarity(a: vec4<f32>, b: vec4<f32>) -> f32 {
  return dot(a, b) / (length(a) * length(b));
}
```

연산 결과는 Compute Pipeline과 BindGroup을 통해 정렬 단계로 전달되며, 정렬과 Top-K 추출 또한 WGSL로 구현하여 GPU 메모리 내에서 병렬 처리된다.

---

## 4. 실험 및 성능 평가

실험은 10,000개의 512차원 벡터를 대상으로 Chrome Canary 브라우저의 WebGPU 환경에서 진행되었으며, 비교 대상은 다음과 같다:  
- FAISS (GPU 기반 서버) [1]  
- WASM 기반 naive client-side 구현 [4]  
- 본 연구의 WebGPU 기반 시스템

| 시스템 | QPS | 평균 Latency | Top-1 정확도 |
|--------|------------------|---------------|---------------|
| WebGPU (본 연구) | 1,020 QPS | 3.4 ms | 97.2% |
| FAISS (GPU) | 2,500 QPS | 1.1 ms | 98.1% |
| WASM (CPU) | 150 QPS | 24.2 ms | 97.1% |

결과적으로 FAISS-GPU 대비 성능은 낮았으나, 브라우저에서 서버 없이 실행되는 점, WASM 대비 6배 이상 빠른 속도, 높은 정확도 유지는 WebGPU 기반 아키텍처의 실용성을 입증하였다.

바로 앞의 실험은 10,000개의 512차원 벡터를 대상으로 하였으나, 실용적 활용을 위해 확장성 평가를 추가로 수행하였다. 벡터 수를 100K, 500K, 1M으로 순차적으로 증가시키고, 성능 변화 및 메모리 사용량을 분석하였다. 특히 IndexedDB를 활용하여 브라우저 내 벡터 데이터셋을 분할 로딩하는 방식으로 메모리 압력을 완화하였다.

| 벡터 수 | QPS | 평균 Latency | GPU 메모리 사용 | IndexedDB 활용 |
|---------|-----|------------------|------------------|-----------------|
| 10K     | 1,020 | 3.4 ms         | 40MB            | -               |
| 100K    | 910  | 5.1 ms         | 400MB           | 사용 안 함      |
| 500K    | 730  | 8.6 ms         | 1.9GB           | 사용             |
| 1M      | 620  | 12.3 ms        | 3.6GB           | 사용             |

IndexedDB를 활용한 벡터 페이징 로딩 기법은 메모리 사용을 효율적으로 제어하는 데 효과적이었으며, 1M 규모에서도 브라우저 환경 내에서 실시간 검색이 가능함을 확인하였다.

---

아래는 요청하신 개조식 내용을 **학술 논문에 적합한 설명식 문체로 변환한 제5장**입니다. 논리적 흐름과 학술적 어조를 유지하면서 문장을 서술형으로 정리하였습니다.

---

## 5. 차별성과 활용 가능성

### 5.1 환경의 자유로움과 그래픽스 통합 기반의 새로운 가치 제안

WebGPU 기반 벡터 데이터베이스 시스템의 핵심적인 차별점은 단순한 검색 성능의 우위보다는, 기술이 구현되는 실행 환경의 자유도와 시각화 기능과의 통합 가능성에서 출발하는 새로운 가치에 있다. 본 시스템은 브라우저 내에서 즉시 실행 가능한 구조를 통해, 별도의 설치나 설정 없이 지능형 기능을 제공할 수 있으며, 이는 곧 **설치가 필요 없는 AI 시스템**이라는 형태로 실현된다.

또한, 벡터 연산이 클라이언트 로컬 환경에서 수행되므로, 사용자의 데이터가 외부 서버로 전송되지 않으며, 민감한 정보가 포함된 연산도 사용자의 기기 내에서 처리될 수 있다. 이러한 구조는 **프라이버시 보호 및 로컬 AI 연산**의 가능성을 동시에 확보하는 데 기여한다.

뿐만 아니라, WebGPU의 그래픽 처리 능력을 활용하면 벡터 검색 결과를 시각적으로 표현할 수 있어, 복잡한 고차원 벡터 공간 내에서의 유사도 관계를 직관적으로 이해할 수 있는 환경이 조성된다. 이로써 **시각화와 검색의 결합**이라는 새로운 사용자 경험(User Experience)이 가능해진다.

한편, 본 시스템은 클라우드 인프라에 의존하지 않고 브라우저에서 직접 실행되기 때문에, 인터넷 연결이 제한된 환경 또는 엣지 디바이스 상에서도 활용 가능하다. 이러한 점에서 본 연구는 **엣지 컴퓨팅 기반의 확장성**을 갖춘 경량형 AI 검색 인프라로 활용될 수 있다.

나아가, 본 시스템은 WASM 기반의 텍스트 검색 또는 언어 모델(LLM) 기반 기능과도 연동이 가능하여, 브라우저 기반 통합 AI 도구로 발전할 수 있는 잠재력을 갖추고 있다. 따라서 **WASM과 LLM의 통합** 역시 본 시스템이 지닌 기술적 확장성의 주요 방향 중 하나로 제시된다.

마지막으로, 클라이언트 측 실행 환경은 별도의 서버 인프라나 유료 API 없이도 운영이 가능하므로, 교육, 연구, 프로토타입 제작 등에 있어서 **비용 부담이 없는 AI 인프라**로 활용될 수 있다. 이는 AI 기술에 대한 접근성을 향상시키고, 학습 및 실험 중심의 환경에서도 효과적으로 사용할 수 있는 실용적인 대안을 제시한다.

---

### 5.2 멀티디바이스 및 크로스 플랫폼 지원

현재 WebGPU는 주로 Chrome 기반 데스크탑 브라우저에서 활성화되어 있으며, Safari, Firefox 등 타 브라우저로의 지원도 점진적으로 확대되고 있다. 그러나 여전히 일부 iOS 기기나 저사양 디바이스에서는 WebGPU 기능이 비활성화되어 있거나, 하드웨어 제약으로 인해 실행이 어려운 환경이 존재한다. 이러한 제약을 극복하기 위해, 본 시스템은 다양한 환경에서의 동작을 보장하는 폴백(Fallback) 전략을 함께 설계하였다.

우선, WebGPU를 지원하지 않는 브라우저 환경에서는 WebGL2를 활용한 범용 GPU 연산으로 대체할 수 있도록 구현되었다. 이는 GPGPU 연산의 핵심 기능을 유지하면서, 기존보다 넓은 호환성을 제공한다. 또한, GPU 기능 자체를 사용할 수 없는 환경에서는 WASM 기반의 CPU 연산으로 자동 전환되어, 기능 축소 없이 기본적인 검색 동작이 가능하도록 한다.

이와 같은 다중 실행 전략은 다양한 기기 및 플랫폼 간의 **graceful degradation**을 실현하며, 사용자 환경에 따른 자연스러운 성능 조정을 가능하게 한다. 더불어, 본 시스템은 LLM 기반의 검색 보조 기능과도 통합 가능하도록 설계되어 있으며, 폴백 환경에서도 이러한 기능을 활용할 수 있다. 이를 통해 단일한 코드 기반으로도 광범위한 플랫폼에서 동작하는, 유연하고 확장 가능한 벡터 검색 시스템으로 기능할 수 있다.

---

### 5.3 클라이언트 측 보안 이슈와 대응

WebGPU는 클라이언트 디바이스의 GPU 메모리에 직접 접근하여 연산을 수행하는 구조를 가지므로, 기존 웹 애플리케이션보다 높은 수준의 보안 고려가 요구된다. 특히, GPUBuffer에 저장된 데이터가 외부에 노출될 가능성이나, 사이드 채널 공격(side-channel attack)을 통한 정보 유출 가능성이 존재한다는 점에서 보안 이슈가 대두된다 [5].

이에 대응하기 위해, 본 시스템은 다양한 수준의 보안 전략을 적용하였다. 우선, GPUBuffer에 대해 임의의 마스킹(masking) 처리를 수행하고, 필요한 경우 zero-padding을 통해 메모리 잔여값이 분석되지 않도록 하였다. 또한, 스크립트 보호를 위해 CSP(Content Security Policy) 및 CORS(Cross-Origin Resource Sharing) 기반의 보안 정책을 설정하여 외부 스크립트 삽입이나 코드 변조의 위험을 차단하였다.

더불어, 사용자가 프라이버시 모드에서 시스템을 활용할 경우, 벡터 데이터 및 결과값은 휘발성 메모리 상에만 존재하도록 하여, 브라우저 세션 종료 시 모든 정보가 자동으로 삭제되는 방식으로 구현하였다. 이러한 보안 설계는 클라이언트 측 연산의 강점을 살리면서도, 사용자 데이터 보호 및 시스템 무결성 유지라는 측면에서 실질적인 안전성을 제공한다.

---

## 6. 결론 및 향후 과제

본 연구는 WebGPU의 등장을 계기로, GPU-Native 벡터 데이터베이스를 웹 브라우저에서 실행할 수 있는 가능성을 실현하였다. 실험을 통해 클라이언트 기반에서도 고성능 검색이 가능함을 입증하였으며, 프라이버시 보호, 시각화 연계, 오프라인 AI 등 다양한 확장 시나리오를 제시하였다.

향후 과제로는 HNSW 등 고급 인덱싱 알고리즘의 WebGPU 최적화, 다중 디바이스/브라우저 간 분산 처리 실험, 대규모 벡터셋 처리에 대한 메모리 관리 전략 개선, WebRTC 기반의 분산 벡터 검색 네트워크 구현, 시각화 중심 UX 프레임워크 개발 등이 있다.

본 연구는 웹 브라우저가 곧 데이터베이스가 되는 미래를 위한 중요한 초석이 될 수도 있을 것이다.

---

## 참고 문헌

[1] Johnson, J., Douze, M., & Jégou, H. (2019). Billion-scale similarity search with GPUs. *IEEE Transactions on Big Data.*  
[2] Wang, X., et al. (2021). Milvus: A purpose-built vector database. *arXiv preprint arXiv:2101.03838.*  
[3] W3C WebGPU Working Group. (2024). WebGPU API. https://www.w3.org/TR/webgpu/  
[4] Dirhoussi, A. (2023). Semantic search powered by WASM and WGPU. *Medium.*  
[5] Rossbach, C. J. (2022). WebGPU Security Model and Threats. *W3C Security Workshop.*  
[6] Google Developers. (2023). WebGPU & IndexedDB for Scalable Data. https://developer.chrome.com/docs/webgpu  
[7] Mozilla. (2024). Graceful fallback strategies in browser GPU computing. *MDN Web Docs*.

